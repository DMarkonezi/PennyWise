<div class="form">
  <h3>Add Transaction</h3>
  <form (ngSubmit)="onSubmit()" #transactionForm="ngForm">
    
    <div class="form-group">
      <label for="amount">Amount *</label>
      <input 
        id="amount"
        type="number" 
        name="amount"
        [(ngModel)]="amount"
        placeholder="0.00"
        step="0.01"
        required>
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <input 
        id="description"
        type="text" 
        name="description"
        [(ngModel)]="description"
        placeholder="What was this for?">
    </div>

    <div class="form-group">
      <label for="categoryId">Category *</label>
      <select 
        id="categoryId"
        name="categoryId"
        [(ngModel)]="categoryId"
        required>
        <option [value]="null" disabled selected>Select category</option>
        <!-- Prikazuje ime od kategorije al čuva ID -->
        <option *ngFor="let cat of (availableCategories$ | async)" [value]="cat.id">
          {{ cat.name }}
        </option>
      </select>
    </div>

    <div class="form-group">
      <label for="type">Type *</label>
      <select 
        id="type"
        name="type"
        [(ngModel)]="type"
        required>
        <option value="EXPENSE">Expense</option>
        <option value="INCOME">Income</option>
      </select>
    </div>

    <div class="form-group">
      <label for="date">Date *</label>
      <input 
        id="date"
        type="date" 
        name="date"
        [(ngModel)]="date"
        required>
    </div>

    <div class="actions">
      <button 
        type="submit" 
        [disabled]="!transactionForm.valid"
        class="btn-save">
        Save
      </button>
      <button 
        type="button" 
        (click)="onCancel()" 
        class="btn-cancel">
        Cancel
      </button>
    </div>
  </form>
</div>